<!DOCTYPE html>
<html lang="en">
  <!-- <html lang="en" data-bs-theme="{{ theme }}"> -->
  <head>
    <meta charset="UTF-8" />
    <title>Uploaded Documents</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary px-3">
      <div class="container-fluid">
        <span class="navbar-brand fw-semibold"
          >ğŸ“ Admin Panel - {{ username }}</span
        >
        <div>
          <a href="{{ url_for('chat') }}" class="btn btn-primary"
              >â¬… Back to Chat</a
            >
          <!-- <a href="{{ url_for('toggle_theme') }}" class="btn btn-outline-info me-2">Toggle Theme</a> -->
          <a href="{{ url_for('logout') }}" class="btn btn-outline-danger"
            >Logout</a
          >
        </div>
      </div>
    </nav>
    <div class="container mt-5">
      <h4>ğŸ“‚ Uploaded Documents</h4>

      {% if files %}
      <ul class="list-group">
        {% for file in files %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          {{ file }}
          <button
            class="btn btn-sm btn-danger"
            onclick="deleteFile('{{ file }}')"
          >
            Delete
          </button>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <p>No uploaded documents found.</p>
      {% endif %}
    </div>

    <script>
      function deleteFile(filename) {
        if (confirm(`Delete '${filename}'?`)) {
          fetch(`/delete_file/${filename}`, { method: "POST" }).then((res) =>
            window.location.reload()
          );
        }
      }
    </script>
  </body>
</html>
